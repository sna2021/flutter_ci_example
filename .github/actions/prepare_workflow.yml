name: Prepare project
inputs:
  flutter_version:
    required: true
    default: 1.22

runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-java@v1
      with:
        java-version: '12.x'
    - uses: subosito/flutter-action@v1
      with:
        flutter-version: ${{ secrets.flutter_version }}
        channel: 'stable'

    - name: Check flow
      run: sh ./.github/scripts/flutter_check_flow.sh
